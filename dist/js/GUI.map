{"version":3,"file":"dist/js/GUI.js","sources":["js/GUI.js"],"names":["define","Core","HTML","Sound","SVG","require","$","sprintf","cookie","Logger","instance","GUI","Error","this","idCounter","TO_SCREEN","TO_SWITCH","screenState","viewStates","viewFinalStates","currentStep","views","views2id","enabledScreenTO","enableRotation","enableFollow","ctrlButtons","3d","shortcut","charCodeAt","title","state","states","facls","descr","cb","snmdInit3D","volume","snmdUnmute","snmdMute","rotate","srScreenTimeOut","follow","getInstance","prototype","that","document","body","addClass","each","i","a","children","find","cur","length","hash","currentView","click","screenTimeOut","window","setTimeout","snmdStateUpdate","root","svg","lastState","finalState","css","srNagStateColor","removeClass","snmdPlay","srStateChanged","fs","Object","keys","forEach","k","is_3d","hasClass","dps","r","Math","tan","PI","step","snmdAlignView","currenStep","srInit","nav","toString","qtitle","text","qtip","content","parseInt","append","appendTo","div","render","srLoadHTML","url","reload","srLoadSVG","debug","filter","prevAll","nextAll","transTO","on","clearTimeout","undefined","location","nth","replace","ctrl","empty","el","c","icon","String","fromCharCode","ul","ico","button","attr","href","call","set","co","get","el_clock","setInterval","now","Date","zoff","getTimezoneOffset","sign","abs","str","getFullYear","getMonth","getDay","getHours","getMinutes","getSeconds","mousemove","bind","keydown","ev","keyCode","links","keypress","which","key","preventDefault","btn"],"mappings":"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"}