{"version":3,"file":"dist/js/GUI.js","sources":["js/GUI.js"],"names":["define","Core","HTML","Sound","SVG","require","$","sprintf","cookie","Logger","instance","GUI","Error","this","idCounter","TO_SCREEN","TO_SWITCH","screenState","viewStates","viewFinalStates","currentStep","views","views2id","enabledScreenTO","enableRotation","enableFollow","ctrlButtons","3d","shortcut","charCodeAt","title","state","states","facls","descr","cb","snmdInit3D","volume","snmdUnmute","snmdMute","rotate","srScreenTimeOut","follow","getInstance","prototype","that","document","body","addClass","each","i","a","children","find","cur","length","hash","currentView","click","screenTimeOut","window","setTimeout","snmdStateUpdate","root","svg","lastState","finalState","css","srNagStateColor","removeClass","clearTimeout","inArray","snmdPlay","srStateChanged","fs","Object","keys","forEach","k","is_3d","hasClass","dps","r","Math","tan","PI","step","snmdAlignView","currenStep","srInit","nav","toString","qtitle","text","qtip","content","parseInt","append","appendTo","div","render","srLoadHTML","url","reload","srLoadSVG","debug","filter","prevAll","nextAll","transTO","on","undefined","location","nth","replace","ctrl","empty","el","c","icon","String","fromCharCode","ul","ico","button","attr","href","call","set","co","get","el_clock","setInterval","now","Date","zoff","getTimezoneOffset","sign","abs","str","getFullYear","getMonth","getDay","getHours","getMinutes","getSeconds","mousemove","bind","keydown","ev","keyCode","links","keypress","which","key","preventDefault","btn"],"mappings":"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"}