"undefined"==typeof Scotty&&(Scotty={}),"undefined"==typeof Scotty.GUI&&(Scotty.GUI={}),function(t){"use strict";var s=0;this.TO_SCREEN=6e5,this.TO_SWITCH=3e4,this.screenState=0,this.viewStates={},this.viewFinalStates={},this.currentStep=0,this.srScreenTimeOut=function(){0===this.screenState&&(this.screenState+=1,t(document.body).addClass("on-screensaver")),t(".srViews").each(function(){for(var s=t(this).children(".srViewsNav").find("a"),i=0,e=0;e<s.length;e++)s[e].hash===Scotty.GUI.currentView&&(i=e);i+=1,i>=s.length&&(i=0),s[i].click()}),this.screenTimeOut=window.setTimeout(this.srScreenTimeOut,this.TO_SWITCH)}.bind(this),this.srStateChanged=function(s,i,e){if(this.viewStates[s][i]=e,this.viewFinalStates[s]<e)this.viewFinalStates[s]=e,t("#switch-"+s).css("color",Scotty.Core.srNagStateColor(this.viewFinalStates[s]));else if(this.viewFinalStates[s]>e){var o=e;Object.keys(this.viewStates[s]).forEach(function(t){Scotty.GUI.viewStates[s][t]>o&&(o=Scotty.GUI.viewStates[s][t])}),this.viewFinalStates[s]=o,t("#switch-"+s).css("color",Scotty.Core.srNagStateColor(this.viewFinalStates[s]))}}.bind(this),this.srInit=function(i){t(".srViews").each(function(){var e={},o=t(this).children(".srViewsNav");Object.keys(i).forEach(function(t){e[t]="srView-"+(s+=1).toString(16),Scotty.GUI.viewStates[e[t]]={},Scotty.GUI.viewFinalStates[e[t]]=-1,o.append('<li><a id="switch-'+e[t]+'" href="#'+e[t]+'"><span>'+i[t].title+"</span></a></li>")});var n=t("#snmd-views"),a=360/Object.keys(i).length,h=0,r=Object.keys(i).length>1?953/Math.tan(Math.PI/Object.keys(i).length):0;(t("#snmd-views").height()-30-1038)/2+30;Object.keys(i).forEach(function(s){switch(n.append('<div class="svgview" id="'+e[s]+'"></div>'),t(document.body).hasClass("enable-3d")&&t("#"+e[s]).css("transform","rotateY("+a*h+"deg) translateZ("+r+"px)"),i[s].render){case"html":Scotty.HTML.srLoadHTML(e[s],i[s].url,i[s].reload);break;case"svg":default:Scotty.SVG.srLoadSVG(e[s],i[s].url)}h+=1}),t("#snmd-views").css("transform-origin","100% 50% 50%");var c=function(){var s=1;t(document.body).hasClass("enable-3d")&&t("#snmd-views").css("transform","scale("+s+") translateZ(-"+r+"px) rotateY("+-1*a*Scotty.GUI.currenStep+"deg)")}.bind(this);if(o.find("a").click(function(s){return console.debug("Viewing "+this.hash),Scotty.GUI.currentView=this.hash,n.children().removeClass("current").filter(this.hash).removeClass("next").removeClass("prev").addClass("current"),t(Scotty.GUI.currentView).prevAll().removeClass("next").addClass("prev"),t(Scotty.GUI.currentView).nextAll().removeClass("prev").addClass("next"),o.find("a").removeClass("selected").filter(this).addClass("selected"),Scotty.GUI.currenStep=t(Scotty.GUI.currentView).prevAll().length,c(),!1}).filter(":first").click(),"undefined"!==window.location.hash){var d=parseInt(window.location.hash.replace(/^#srView-/,""))-1;o.find("a:eq("+d+")").click()}t("#snmd-ctrl").find("a").click(function(t){return console.debug("Control: "+this.hash),!1}).filter(":first").click()}).bind(this),window.setInterval(function(){t("div#snmd_clock").text(moment().format("YYYY-MM-DDTHH:mm:ssZZ"))},1e3),this.screenTimeOut=window.setTimeout(this.srScreenTimeOut,this.TO_SCREEN),t(document).mousemove(function(){this.screenState=0,"undefined"!=typeof this.screenTimeOut&&(window.clearTimeout(this.screenTimeOut),this.screenTimeOut=window.setTimeout(this.srScreenTimeOut,this.TO_SCREEN),t(document.body).removeClass("on-screensaver"))}.bind(this)),t(document).keypress(function(s){if(this.screenState=0,"undefined"!=typeof this.screenTimeOut&&(window.clearTimeout(this.screenTimeOut),this.screenTimeOut=window.setTimeout(this.srScreenTimeOut,this.TO_SCREEN)),s.which>47&&s.which<58){var i=48==s.which?"10":String.fromCharCode(s.which);t('a[href="#srView-'+i+'"]').click()}}.bind(this))}.bind(this)}.call(Scotty.GUI,jQuery),"undefined"==typeof Scotty&&(Scotty={}),"undefined"==typeof Scotty.SVGWidget&&(Scotty.SVGWidget={}),function(t){"use strict";this.Impl={},this.Widgets={},this.srRegisterImpl=function(t,s){this.Impl[t]=s}.bind(this),this.srLookupImpl=function(t){return this.Impl[t]}.bind(this),this.srRegisterWidget=function(t,s){this.Widgets[t]=s}.bind(this),this.srLookupWidget=function(t){return this.Widgets[t]}.bind(this),this.srClassOpts=function(t,s){var i={base:["snmd-bcl-"+s],state:["snmd-scl-","snmd-scl-"+s+"-"]};return"undefined"!=typeof t.type&&i.base.push("snmd-bcl-"+t.type),"undefined"!=typeof t.bcls&&i.base.push.apply(i.base,t.bcls),"undefined"!=typeof t.bcl&&i.base.push(t.bcl),"undefined"!=typeof t.scls&&i.state.push.apply(i.state,t.scls),"undefined"!=typeof t.scl&&i.state.push(t.scl),i}.bind(this),this.srCreateWidget=function(t,s,i){if("undefined"==typeof i.type)return void console.error("Widget "+s.id+" has no type set!");if("undefined"==typeof this.Widgets[i.type])return void console.error("Widget "+s.id+" has unknown type: "+i.type);try{var e=new this.Widgets[i.type](t,s,i,this.Widgets[i.type]);"undefined"!=typeof i.topics&&i.topics.forEach(function(t){Scotty.MQTT.srRegisterTopic(t,e)})}catch(t){return void console.error("Failed to create widget "+s.id+" of type "+i.type+": "+t.message)}}.bind(this)}.call(Scotty.SVGWidget,jQuery),"undefined"==typeof Scotty&&(Scotty={}),"undefined"==typeof Scotty.SVGImpl&&(Scotty.SVGImpl={}),"undefined"==typeof Scotty.SVGImpl.Gauge&&(Scotty.SVGImpl.Gauge={}),function(t){"use strict";var s=function(t,s,i,e,o){this.opts=i,this.lines=e,this.cls=i.cls.base,this.root=t,i.dim={id:s.id,x:s.x.baseVal.value,y:s.y.baseVal.value+s.height.baseVal.value,width:s.width.baseVal.value,height:s.height.baseVal.value},t.remove(s),this.pathdata=new SVGPathData("m "+i.dim.x+","+i.dim.y+" a "+i.dim.width/2+","+i.dim.height+" 0 0 1 "+i.dim.width+",0"),"undefined"!=typeof o&&this.rect.qtip(o),this.last_stroke="",this.last_val=-1;var n=Math.PI;this.pathdata.commands[1].x=2*(1-Math.cos(n/2))*this.pathdata.commands[1].rX,this.pathdata.commands[1].y=-1*Math.sin(n)*this.pathdata.commands[1].rY,this.root.path(this.pathdata.encode(),{class:this.cls.map(function(t){return t+"-BG"}).join(" ")})};s.prototype.update=function(t,s,i){if(t!==this.last_val||i!==this.last_state){t>s&&(t=s);var e=t/s*Math.PI;this.pathdata.commands[1].x=2*(1-Math.cos(e/2))*this.pathdata.commands[1].rX,this.pathdata.commands[1].y=-1*Math.sin(e)*this.pathdata.commands[1].rY,i!==this.last_state&&(this.opts.cls.state.forEach(function(t){var s=this.cls.indexOf(t+this.last_state);s>-1&&this.cls.splice(s,1)},this),this.opts.cls.state.forEach(function(t){this.cls.push(t+i)},this)),"undefined"!=typeof this.svg&&this.root.remove(this.svg),this.svg=this.root.path(this.pathdata.encode(),{id:this.opts.dim.id,class:this.cls.join(" ")}),this.last_val=t,i!==this.last_state&&(this.last_state=i,Scotty.GUI.srStateChanged(this.root._svg.parentElement.id,this.opts.dim.id,i))}},Scotty.SVGWidget.srRegisterImpl("Gauge",s)}.call(Scotty.SVGImpl.Gauge,jQuery),"undefined"==typeof Scotty&&(Scotty={}),"undefined"==typeof Scotty.SVGImpl&&(Scotty.SVGImpl={}),"undefined"==typeof Scotty.SVGImpl.Transform&&(Scotty.SVGImpl.Transform={}),function(t){"use strict";var s=function(t,s,i,e){this.root=t,this.opts=i,this.el=s,this.opts.cls.base.forEach(function(t){this.el.classList.add(t)},this),this.el.style.stroke="",this.el.style.fill="","undefined"!=typeof e&&this.el.qtip(e)};s.prototype.update=function(t,s){if(this.last_val!==t||this.last_state!==s){this.opts.cls.state.forEach(function(t){this.el.classList.remove(t+this.last_state)},this),this.opts.cls.state.forEach(function(t){this.el.classList.add(t+s)},this);var i=t/this.opts.max;this.el.style.transform=this.opts.transform.split("%").join(i),this.last_val=t,this.last_state=s}},Scotty.SVGWidget.srRegisterImpl("Transform",s)}.call(Scotty.SVGImpl.Transform,jQuery),"undefined"==typeof Scotty&&(Scotty={}),"undefined"==typeof Scotty.SVGImpl&&(Scotty.SVGImpl={}),"undefined"==typeof Scotty.SVGImpl.Gradient&&(Scotty.SVGImpl.Gradient={}),function(t){"use strict";var s=function(t,s,i,e){this.opts=i,this.root=t,this.svg=s,i.cls.base.forEach(function(t){this.svg.classList.add(t)},this),"undefined"!=typeof e&&this.svg.qtip(e);var o=[];for(var n in this.opts.stops)o.push([this.opts.stops[n],"#404040"]);this.grad=t.linearGradient(null,Scotty.Core.srGenID("lgrd"),o,this.opts.coords[0],this.opts.coords[1],this.opts.coords[2],this.opts.coords[3]),this.stops={};var a=0;for(var n in this.opts.stops)this.stops[this.opts.stops[n]]=this.grad.childNodes[a],a++;s.style.fill="url(#"+this.grad.id+")",i.cls.base.forEach(function(t){s.classList.add(t),this.grad.classList.add(t)},this)};s.prototype.update=function(t,s){if("undefined"!=typeof t)for(var i in t)"undefined"!=typeof t[i]?this.stops[i].setAttribute("stop-color","hsl("+t[i]+",100%,50%)"):this.stops[i].setAttribute("stop-color","#404040")},Scotty.SVGWidget.srRegisterImpl("Gradient",s)}.call(Scotty.SVGImpl.Gradient,jQuery),"undefined"==typeof Scotty&&(Scotty={}),"undefined"==typeof Scotty.SVGImpl&&(Scotty.SVGImpl={}),"undefined"==typeof Scotty.SVGImpl.Text&&(Scotty.SVGImpl.Text={}),function(t){"use strict";var s=function(t,s,i,e){this.opts=i,this.root=t,this.txt=s,this.txt.style.stroke="",this.txt.style.fill="",this.txt.textContent="?",i.cls.base.forEach(function(t){this.txt.classList.add(t)},this),"undefined"!=typeof e&&this.txt.qtip(e)};s.prototype.update=function(t,s,i){this.last_val===t&&s===this.last_state||("undefined"==typeof i&&(i=!0),this.txt.textContent=i?Scotty.Core.srSiFormatNum(t,this.opts.uom,"-",this.opts.fracts):t,this.last_val=t,s!==this.last_state&&(this.opts.cls.state.forEach(function(t){this.txt.classList.remove(t+this.last_state)},this),this.opts.cls.state.forEach(function(t){this.txt.classList.add(t+s)},this),this.last_state=s,Scotty.GUI.srStateChanged(this.root._svg.parentElement.id,this.txt.id,s)))},Scotty.SVGWidget.srRegisterImpl("Text",s)}.call(Scotty.SVGImpl.Text,jQuery),"undefined"==typeof Scotty&&(Scotty={}),"undefined"==typeof Scotty.SVGImpl&&(Scotty.SVGImpl={}),"undefined"==typeof Scotty.SVGImpl.Class&&(Scotty.SVGImpl.Class={}),function(t){"use strict";var s=function(t,s,i,e){this.root=t,this.opts=i,this.el=s,this.opts.cls.base.forEach(function(t){this.el.classList.add(t)},this),"undefined"!=typeof e&&this.el.qtip(e)};s.prototype.update=function(t){t!==this.last_state&&(this.opts.cls.state.forEach(function(t){this.el.classList.remove(t+this.last_state)},this),this.opts.cls.state.forEach(function(s){this.el.classList.add(s+t)},this),this.last_state=t)},Scotty.SVGWidget.srRegisterImpl("Class",s)}.call(Scotty.SVGImpl.Class,jQuery),"undefined"==typeof Scotty&&(Scotty={}),"undefined"==typeof Scotty.SVGImpl&&(Scotty.SVGImpl={}),"undefined"==typeof Scotty.SVGImpl.Chart&&(Scotty.SVGImpl.Chart={}),function(t){"use strict";var s=function(t,s,i,e,o){if(this.opts=i,this.lines=e,"undefined"!=typeof this.opts.lcls)for(var n=0;n<this.lines.length;n++){var a=this.opts.lcls.slice(0);this.opts.lcls.forEach(function(t){a.push(t+"-"+this.lines[n].name)},this),this.lines[n].style={class:a.join(" ")}}"undefined"!=typeof this.opts.mcls&&(this.maxline_style={class:this.opts.mcls.join(" ")}),this.root=t,i.dim={id:s.id,x:s.x.baseVal.value,y:s.y.baseVal.value,width:s.width.baseVal.value,height:s.height.baseVal.value},t.remove(s),this.rect=t.rect(i.dim.x,i.dim.y,i.dim.width,i.dim.height,{id:i.dim.id,class:i.cls.base.join(" ")}),"undefined"!=typeof o&&this.rect.qtip(o),this.txt=[t.text(i.dim.x,i.dim.y,"")],e.length>1&&(this.txt[1]=t.text(i.dim.x+i.dim.width,i.dim.y,""));for(var n=0;n<this.txt.length;n++)"undefined"!=typeof this.opts.tcls&&this.opts.tcls.forEach(function(t){this.txt[n].classList.add(t),this.txt[n].classList.add(t+"-"+this.lines[n].name)},this);this.data_tswin=(i.dim.width-6)/i.dpi,this.data_ts=[],this.data_lines=[],this.data_svg=[];for(var h=0;h<e.length;h++)this.data_lines[h]=[];this.axis_maxlines=[],this.axis_maxlasts=[]};s.prototype.update=function(t,s,i){Scotty.Core.srNagStateColor(i);this.data_ts.push(t);for(var e="undefined"==typeof this.opts.axis[0].max?0:this.opts.axis[0].max,o=0;o<this.data_lines.length;o++)this.data_lines[o].push(s[o]),e=Math.max(e,Math.max.apply(null,this.data_lines[o]));for(var n,a=[];this.data_ts[0]<t-this.data_tswin;){n=this.data_ts.shift();for(var o=0;o<this.data_lines.length;o++)a[o]=this.data_lines[o].shift()}if("undefined"!=typeof n&&this.data_ts.length>0){var h=t-this.data_tswin;this.data_ts.unshift(h);for(var o=0;o<this.data_lines.length;o++)this.data_lines[o].unshift(a[o]+(this.data_lines[o][0]-a[o])*(h-n)/(this.data_ts[1]-n))}"undefined"!=typeof this.opts.axis[0].max&&this.axis_maxlasts[0]!=e&&(this.axis_maxlasts[0]=e),"log"==this.opts.axis[0].scale&&(e=Math.log10(e));var r=this.opts.dim.x+this.opts.dim.width-3,c=this.opts.dim.y+this.opts.dim.height-3,d=this.opts.dim.height-20,l=d/e,f=[],u=[];if("undefined"!=typeof this.opts.axis[0].max){for(var p=this.opts.axis[0].max<this.axis_maxlasts[0]?Math.floor(this.axis_maxlasts[0]/this.opts.axis[0].max):0,o=0;o<p;o++){"undefined"!=typeof this.axis_maxlines[o]&&f.push(this.axis_maxlines[o]);var y=c-(o+1)*this.opts.axis[0].max*l;this.axis_maxlines[o]=this.root.line(this.opts.dim.x,y,this.opts.dim.x+this.opts.dim.width,y,this.maxline_style)}this.axis_maxlines.length>p&&(f=f.concat(this.axis_maxlines.splice(p,this.axis_maxlines.length-p)))}for(var m=0;m<this.data_lines.length;m++){var S=[],g=!0;if("undefined"!=typeof this.data_svg[m]){var v=window.getComputedStyle(this.data_svg[m]);"none"!==v.fill&&""!==v.fill||(g=!1)}for(var w=0;w<this.data_ts.length;w++){var b=r+(this.data_ts[w]-t)*this.opts.dpi;g&&0==w&&S.push([b,c]);var _=this.data_lines[m][w];"undefined"==typeof _&&(_=0),isNaN(_)&&(_=0),"log"==this.opts.axis[0].scale&&(_=_>1?Math.log10(_):0),_*=l,S.push([b,c-_]),w==this.data_ts.length-1&&(g&&S.push([b,c]),u[m]=this.data_lines[m][w])}"undefined"!=typeof this.data_svg[m]&&f.push(this.data_svg[m]);try{g?this.data_svg[m]=this.root.polygon(S,this.lines[m].style):this.data_svg[m]=this.root.polyline(S,this.lines[m].style)}catch(t){console.error("Failed to create poly for "+this.rect.id)}"undefined"!=typeof this.txt[m]&&(this.txt[m].textContent=Scotty.Core.srSiFormatNum(u[m],"undefined"==typeof this.lines[m].unit?"":this.lines[m].unit,"-"))}for(;f.length;){var x=f.shift();this.root.remove(x)}i!==this.last_state&&(this.opts.cls.state.forEach(function(t){this.rect.classList.remove(t+this.last_state)},this),this.opts.cls.state.forEach(function(t){this.rect.classList.add(t+i)},this),this.last_state=i,Scotty.GUI.srStateChanged(this.rect.parentElement.parentElement.id,this.rect.id,i))},Scotty.SVGWidget.srRegisterImpl("Chart",s)}.call(Scotty.SVGImpl.Chart,jQuery),"undefined"==typeof Scotty&&(Scotty={}),"undefined"==typeof Scotty.SVG&&(Scotty.SVG={}),function(t){"use strict";this.srParseSVG=function(s,i){return i?(console.error("Failed loading SVG: "+i),void s.text(10,20,i,{fill:"red"})):(s.root().setAttribute("width","100%"),s.root().setAttribute("height","100%"),void t('[id^="sr_"]',s.root()).each(function(){var i;try{i=JSON.parse(t(this).find("desc").text())}catch(s){console.error("JSON error in description for graph #"+this.id+": "+s.message),console.debug(t(this).find("desc").text())}i&&Scotty.SVGWidget.srCreateWidget(s,this,i)}))},this.srLoadSVG=function(s,i){console.debug("Loading #"+s+": "+i),t("#"+s).svg({loadURL:i+"?nonce="+Math.random(),"max-width":"100%","max-height":"100%",onLoad:this.srParseSVG})},this.srRelToAbsPos=function(t,s){var i=t.getBoundingClientRect(),e=s.getBoundingClientRect(),o=s.getScreenCTM();return{x:o.a*e.left+o.c*e.top+o.e+i.left,y:o.b*e.left+o.d*e.top+o.f+i.top}},this.srGetStrokeFill=function(t){for(var s=["stroke","strokeLinecap","strokeLinejoin","strokeWidth","fill"],i=[],e=0;e<s.length;e++)console.warn(s[e]+" => "+t.style[s[e]]),i[s[e]]=t.style[s[e]];return i}}.call(Scotty.SVG,jQuery),"undefined"==typeof Scotty&&(Scotty={}),"undefined"==typeof Scotty.MQTT&&(Scotty.MQTT={}),function(t){"use strict";this.srReconnect=function(){console.debug("Reconnecting..."),this.srConnect()},this.srRegisterTopic=function(t,s){"undefined"==typeof this.topics&&(this.topics={}),"undefined"==typeof this.topics[t]?(this.topics[t]=[s],"undefined"!=typeof this.client&&this.client.isConnected()&&this.client.subscribe(t)):this.topics[t].push(s)},this.srStatus=function(s){t("#snmd-hb").css("background",s)}.bind(this),this.srConnect=function(){this.srStatus("yellow"),console.debug("Connecting to MQTT broker "+this.broker_host+":"+this.broker_port+"..."),this.client=new Paho.MQTT.Client(this.broker_host,this.broker_port,"",this.clientId),this.client.disconnect=function(){console.error("Disconnected"),this.srStatus("#7f0000")}.bind(this),this.client.onConnectionLost=function(t){this.srStatus("#ff0000"),console.error("Connection Lost: "+t.errorMessage),this.reconnTO&&clearTimeout(this.reconnTO),this.srStatus("orange"),this.reconnTO=setTimeout(this.srConnect.bind(this),5e3)}.bind(this),this.client.onMessageArrived=function(t){if(this.srStatus("#00ff00"),setTimeout(function(){this.srStatus("#007f00")}.bind(this),100),"undefined"!=typeof this.topics[t.destinationName])for(var s=0;s<this.topics[t.destinationName].length;s++){var i=this.topics[t.destinationName][s];try{i.handleUpdate.call(i,t.destinationName,t.payloadString)}catch(s){return void console.error("Failure updating "+t.destinationName+" in "+i+": "+s.message)}}else console.warn("Received MQTT message for unknown topic "+t.destinationName+"!");return 1}.bind(this);this.client.connect({onSuccess:function(){console.info("Connected to mqtt://"+this.broker_host+":"+this.broker_port),this.srStatus("#7f0000");for(var t in this.topics)this.client.subscribe(t)}.bind(this),onFailure:function(t){this.reconnTO&&clearTimeout(this.reconnTO),this.srStatus("orange"),this.reconnTO=setTimeout(this.srConnect.bind(this),5e3)}.bind(this)})},this.srInit=function(t,s,i){"undefined"==typeof i&&(i="RND"+Math.floor(16777215*Math.random()).toString(16)),console.debug("MQTT broker = "+t+":"+s),console.debug("MQTT clientId = "+i),this.broker_host=t,this.broker_port=Number(s),this.clientId=i,this.srConnect()}}.call(Scotty.MQTT,jQuery),"undefined"==typeof Scotty&&(Scotty={}),"undefined"==typeof Scotty.HTML&&(Scotty.HTML={}),function(t){"use strict";this.srLoadHTML=function(s,i,e){console.debug("Loading #"+s+": "+i);var o=t("<iframe>",{src:i,width:"95%",height:"95%",scrolling:"no"}).addClass("htmlview").appendTo(t("#"+s));"undefined"!=typeof e&&window.setInterval(function(){o[0].contentWindow.location.reload(!1)},1e3*e)}}.call(Scotty.HTML,jQuery),"undefined"==typeof Scotty&&(Scotty={}),"undefined"==typeof Scotty.Core&&(Scotty.Core={}),function(t){"use strict";var s="0.1";this.si_prefs=["T","G","M","k",""],this.si_facts=[Math.pow(10,12),Math.pow(10,9),Math.pow(10,6),Math.pow(10,3),1],this.genid=0,this.srVersion=function(){return s},this.srURLParam=function(t,s){var i=new RegExp("[?&]"+t+"=([^&#/]*)([&#/]|$)").exec(window.location.href);return i&&i[1]?decodeURIComponent(i[1]):s},this.srConfigLoaded=function(s){this.config=s,console.debug("Loading "+this.config.default_view),t.ajax({global:!1,url:this.config.default_view+"?nonce="+Math.random(),dataType:"json",success:function(t){Scotty.GUI.srInit(t),"undefined"==typeof this.config.mqttws_host&&(this.config.mqttws_host=window.location.hostname),"undefined"==typeof this.config.mqttws_port&&(this.config.mqttws_port=9001),Scotty.MQTT.srInit(this.config.mqttws_host,this.config.mqttws_port)}.bind(this),error:function(t,s,i){console.error("Failed to load view list: "+s+" - "+i)}.bind(this)})},this.srInitLoad=function(s,i){console.debug("Loading "+s),t.ajax({global:!1,url:s+"?nonce="+Math.random(),dataType:"json",success:this.srConfigLoaded.bind(this),error:i})},this.srInit=function(){console.info("Initializing Scotty REVOLUTION "+s);var i=this.srURLParam("config","default");"default"!==i?t("#snmd-title").text(i):t("#snmd-title").text(window.location.host),this.srInitLoad("configs/"+i+".json",function(){this.srInitLoad("configs/default.json",function(t,s,i){console.error("Failed to load configuration: "+s+" - "+i)})}.bind(this))},this.srSiFormatNum=function(t,s,i,e){if("undefined"==typeof t)return i;if(isNaN(t))return i;("undefined"==typeof e||isNaN(e))&&(e=0);for(var o=4,n=0;n<this.si_facts.length;n++)if(t>=.99*this.si_facts[n]){o=n;break}return sprintf("%."+e+"f%s%s",t/this.si_facts[o],this.si_prefs[o],s)}.bind(this),this.srNagStateColor=function(t){return"undefined"==typeof t?"Grey":0==t?"LimeGreen":1==t?"Gold":2==t?"Crimson":"Orange"},this.srGenID=function(t){return this.genid+=1,"snmd-genid-"+t+"-"+this.genid}.bind(this)}.call(Scotty.Core,jQuery);
//# sourceMappingURL=dist/snmd-core.min.map